{"version":3,"sources":["private/lex/sourceContext.js"],"names":[],"mappings":"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","file":"private/lex/sourceContext.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'esast/lib/Loc'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    const Loc_1 = require('esast/lib/Loc');\n    function setupSourceContext(source) {\n        exports.sourceString = source;\n        exports.index = 0;\n        exports.line = Loc_1.Pos.start.line;\n        exports.column = Loc_1.Pos.start.column;\n    }\n    exports.setupSourceContext = setupSourceContext;\n    function pos() {\n        return new Loc_1.Pos(exports.line, exports.column);\n    }\n    exports.pos = pos;\n    function peek(n = 0) {\n        return exports.sourceString.charCodeAt(exports.index + n);\n    }\n    exports.peek = peek;\n    function eat() {\n        const char = exports.sourceString.charCodeAt(exports.index);\n        skip();\n        return char;\n    }\n    exports.eat = eat;\n    function skip(n = 1) {\n        exports.index = exports.index + n;\n        exports.column = exports.column + n;\n    }\n    exports.skip = skip;\n    function tryEat(charToEat) {\n        return tryEatIf(_ => _ === charToEat);\n    }\n    exports.tryEat = tryEat;\n    function tryEatIf(pred) {\n        const canEat = pred(peek());\n        if (canEat)\n            skip();\n        return canEat;\n    }\n    exports.tryEatIf = tryEatIf;\n    function tryEat2(char1, char2) {\n        const canEat = peek() === char1 && peek(1) === char2;\n        if (canEat)\n            skip(2);\n        return canEat;\n    }\n    exports.tryEat2 = tryEat2;\n    function tryEatNewline() {\n        const canEat = peek() === 10;\n        if (canEat) {\n            exports.index = exports.index + 1;\n            exports.line = exports.line + 1;\n            exports.column = Loc_1.Pos.start.column;\n        }\n        return canEat;\n    }\n    exports.tryEatNewline = tryEatNewline;\n    function stepBackMany(oldPos, nCharsToBackUp) {\n        exports.index = exports.index - nCharsToBackUp;\n        exports.line = oldPos.line;\n        exports.column = oldPos.column;\n    }\n    exports.stepBackMany = stepBackMany;\n    function takeWhile(characterPredicate) {\n        return takeWhileWithStart(exports.index, characterPredicate);\n    }\n    exports.takeWhile = takeWhile;\n    function takeWhileWithPrev(characterPredicate) {\n        return takeWhileWithStart(exports.index - 1, characterPredicate);\n    }\n    exports.takeWhileWithPrev = takeWhileWithPrev;\n    function takeWhileWithStart(startIndex, characterPredicate) {\n        skipWhile(characterPredicate);\n        return exports.sourceString.slice(startIndex, exports.index);\n    }\n    function skipWhileEquals(char) {\n        return skipWhile(_ => _ === char);\n    }\n    exports.skipWhileEquals = skipWhileEquals;\n    function skipRestOfLine() {\n        return skipWhile(_ => _ !== 10);\n    }\n    exports.skipRestOfLine = skipRestOfLine;\n    function eatRestOfLine() {\n        return takeWhile(_ => _ !== 10);\n    }\n    exports.eatRestOfLine = eatRestOfLine;\n    function skipWhile(characterPredicate) {\n        const startIndex = exports.index;\n        while (characterPredicate(peek()))\n            exports.index = exports.index + 1;\n        const diff = exports.index - startIndex;\n        exports.column = exports.column + diff;\n        return diff;\n    }\n    exports.skipWhile = skipWhile;\n    function skipNewlines() {\n        const startLine = exports.line;\n        exports.line = exports.line + 1;\n        while (peek() === 10) {\n            exports.index = exports.index + 1;\n            exports.line = exports.line + 1;\n        }\n        exports.column = Loc_1.Pos.start.column;\n        return exports.line - startLine;\n    }\n    exports.skipNewlines = skipNewlines;\n});\n"],"sourceRoot":"/source/"}